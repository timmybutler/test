--[[
    Obfuscation Test Script
    Version: 1.0
    Author: OpenAI
    Purpose: Reverse engineering and obfuscation resilience testing
--]]

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local mouse = player:GetMouse()

-- Create UI
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "TestGUI"

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 200)
frame.Position = UDim2.new(0.5, -150, 0.5, -100)
frame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
frame.BorderSizePixel = 0
frame.Parent = screenGui

local textLabel = Instance.new("TextLabel")
textLabel.Size = UDim2.new(1, 0, 0.2, 0)
textLabel.Position = UDim2.new(0, 0, 0, 0)
textLabel.Text = "Hello, " .. player.Name
textLabel.BackgroundColor3 = Color3.fromRGB(55, 55, 55)
textLabel.TextColor3 = Color3.new(1,1,1)
textLabel.Font = Enum.Font.SourceSansBold
textLabel.TextScaled = true
textLabel.Parent = frame

-- Tween animation
local tweenInfo = TweenInfo.new(2, Enum.EasingStyle.Bounce, Enum.EasingDirection.Out)
local tweenGoal = {BackgroundColor3 = Color3.fromRGB(200, 0, 0)}
local colorTween = TweenService:Create(frame, tweenInfo, tweenGoal)
colorTween:Play()

-- Mouse click reaction
mouse.Button1Down:Connect(function()
    textLabel.Text = "You clicked at: (" .. math.floor(mouse.X) .. ", " .. math.floor(mouse.Y) .. ")"
end)

-- Input keys
UserInputService.InputBegan:Connect(function(input, processed)
    if processed then return end

    if input.KeyCode == Enum.KeyCode.Space then
        textLabel.Text = "Spacebar Pressed"
    elseif input.KeyCode == Enum.KeyCode.R then
        frame.BackgroundColor3 = Color3.fromRGB(math.random(0,255), math.random(0,255), math.random(0,255))
    end
end)

-- Remote Event Testing
local testEvent = ReplicatedStorage:FindFirstChild("TestEvent")
if not testEvent then
    testEvent = Instance.new("RemoteEvent", ReplicatedStorage)
    testEvent.Name = "TestEvent"
end

testEvent.OnClientEvent:Connect(function(msg)
    textLabel.Text = "Server says: " .. tostring(msg)
end)

-- Function definitions
local function complexMath(n)
    local sum = 0
    for i = 1, n do
        sum = sum + (i^2 + math.sin(i) * 100)
    end
    return sum
end

-- Coroutine test
coroutine.wrap(function()
    while true do
        wait(5)
        textLabel.Text = "Current time: " .. os.time()
    end
end)()

-- Random text effects
local texts = {"Welcome", "Test Mode", "Roblox is fun", "Obfuscation!", "LocalScript"}
local index = 1

RunService.RenderStepped:Connect(function()
    index = index + 0.05
    if index >= #texts + 1 then
        index = 1
    end
    textLabel.Text = texts[math.floor(index)]
end)

-- Large table
local bigTable = {}
for i = 1, 1000 do
    bigTable[i] = math.random()
end

-- Useless functions (noise)
local function uselessA() return "abc" end
local function uselessB() return {"x", "y", "z"} end
local function uselessC(a, b) return (a*b) + math.pi end

-- JSON-like string
local encoded = '{"name":"Test","data":[1,2,3],"flag":true}'
textLabel.Text = encoded:sub(1, math.random(1, #encoded))

-- Final interactive animation
wait(2)
local finalTween = TweenService:Create(frame, TweenInfo.new(1), {
    Size = UDim2.new(0, 400, 0, 300),
    Position = UDim2.new(0.5, -200, 0.5, -150)
})
finalTween:Play()
